service: serverless-poc
frameworkVersion: '3'


provider:
  name: aws
  runtime: nodejs20.x
  region: ap-northeast-1
  iam:
    role:
      statements:
        # Allow functions to read/write objects in a bucket  
        - Effect: Allow
          Action:
            - 's3:CopyObject'
          Resource:
            - '*'

functions:
  file-processor:
    handler: file-processor.handler
    events:
      - sns:
          arn:  arn:aws:sns:ap-southeast-1:385187169402:serverless-poc-send-file-topic
